@model IEnumerable<Image>


<div class="w3-container">
    <form asp-controller="Image" asp-action="Index" method="post"
          enctype="multipart/form-data">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="w3-container form-group">
            <div style="position:relative;">
                <a class='btn' href='javascript:;'>
                    Image..
                    <input id="Image" name="Image"
                           type="file" class="M3yUpload" accept="image/*" style="width:100%" />
                </a>
            </div>
            <img src="" id="demo" class="img-thumbnail"
                 style="height:130px;width:130px;" />
            <p class="text-danger" id="imgwide"></p>
        </div>

        <div class="w3-container btn-group">
            <button type="submit" class="btn btn-outline-primary">
                <i class="fa fa-upload"></i> Upload
            </button>
        </div>

    </form>

    <br />
    <br />

    <div class="w3-container">
        <table class="table table-striped table-hover">
            <thead class="w3-blue">
                <tr>
                    <th>Id</th>
                    <th>Image</th>
                </tr>
            </thead>
            <tbody>
                @{int i = 1; }
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@i</td>
                        <td>
                            <img src="Image/ViewImage/@item.Id"
                                 class="img-thumbnail" width="75" height="75" />
                        </td>
                    </tr>
                    i++;
                }
            </tbody>
        </table>
    </div>
</div>

<script src="~/lib/jquery/Model.js"></script>
<script>
    $("#Image").change(function () {
        readIMG(this, '#demo', 'imgwide');
    });
</script>